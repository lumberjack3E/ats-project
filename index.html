<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NWVIT Resume Analyzer</title>
</head>
<body>
<h1>NWVIT Resume Compatibility Tool</h1>

<label for="resume">Paste Your Resume</label><br>
<textarea id="resume" placeholder="Paste resume here..." autofocus></textarea>

<label for="jd">Paste the Job Description</label><br>
<textarea id="jd" placeholder="Paste job description here..."></textarea>

<button onclick="analyze()">Analyze</button>
<button onclick="resetFields()">Reset</button>

<div id="results"></div>

<script>
    async function analyze() {
        const resumeText = document.getElementById('resume').value;
        const jobText = document.getElementById('jd').value;

        const response = await fetch('http://127.0.0.1:8000/analyze', {
            method: 'POST',
            headers: {'Content-Type': 'application/json' },
            body: JSON.stringify({
                resume_text: resumeText,
                job_description: jobText
            })
        });

        const data = await response.json();

        document.getElementById('results').innerHTML = `
            <h2>Results</h2>
            <p><strong>Score:</strong> ${data.score}%</p>
            <p><strong>Feedback:</strong> ${data.feedback}</p>
            <p><strong>Missing Keywords:</strong> ${data.missing_keywords.join(', ')}</p>
        `;
    }

    function resetFields() {
        document.getElementById('resume').value = "";
        document.getElementById('jd').value = "";
        document.getElementById('results').innerHTML = "";
        document.getElementById('resume').focus();
    }

</script>
</body>
</html>